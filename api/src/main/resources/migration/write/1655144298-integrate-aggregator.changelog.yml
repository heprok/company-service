databaseChangeLog:
  - changeSet:
      id: 1655144298-integrate-aggregator.changelog
      author: oleg@briolink.com
      changes:
        - dropTable:
            schemaName: write
            tableName: companies_keywords
        - dropTable:
            schemaName: write
            tableName: keyword
        - dropTable:
            schemaName: write
            tableName: company
        - dropTable:
            schemaName: write
            tableName: industry
        - dropTable:
            schemaName: write
            tableName: occupation

        - createTable:
            schemaName: write
            tableName: company
            columns:
              - column:
                  name: id
                  type: uuid
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: slug
                  type: varchar
                  constraints:
                    unique: true
                    uniqueConstraintName: unq_company_slug
                    nullable: false
              - column:
                  name: primary_company_type
                  type: int2
                  constraints:
                    nullable: false
              - column:
                  name: company_types
                  type: int2[]
                  constraints:
                    nullable: false
              - column:
                  name: pb_id
                  type: varchar(100)
                  constraints:
                    unique: true
                    uniqueConstraintName: unq_company_pb_id
                    nullable: false
              - column:
                  name: perent_company_id
                  type: uuid
              - column:
                  name: perent_company_pb_id
                  type: varchar(100)
              - column:
                  name: website
                  type: varchar(255)
              - column:
                  name: website_host
                  type: varchar(255)
              - column:
                  name: familiar_name
                  type: varchar(255)
              - column:
                  name: logo
                  type: varchar(255)
              - column:
                  name: description
                  type: text
              - column:
                  name: short_description
                  type: varchar(255)
              - column:
                  name: hq_country_id
                  type: int
              - column:
                  name: hq_state_id
                  type: int
              - column:
                  name: hq_city_id
                  type: int
              - column:
                  name: keyword_ids
                  type: varchar[]
              - column:
                  name: vertical_ids
                  type: varchar[]
              - column:
                  name: primary_industry_id
                  type: varchar(255)
              - column:
                  name: industry_ids
                  type: varchar[]
              - column:
                  name: year_founded
                  type: int
              - column:
                  name: facebook
                  type: varchar(255)
              - column:
                  name: twitter
                  type: varchar(255)
              - column:
                  name: employees
                  type: int
              - column:
                  name: created_by
                  type: uuid
              - column:
                  name: sturtup_data
                  type: jsonb
              - column:
                  name: investor_data
                  type: jsonb
              - column:
                  name: service_provider_data
                  type: jsonb
